<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title></title>
</head>
<body>
<script>
'use strict';
/**
 *	最佳实践
 *
 */

 /* 可维护性 */

 // 什么是可维护的代码
 // 可理解性
 // 直观性
 // 可适应性
 // 可扩展性
 // 可调式性

 // 代码约定
 // 1. 可读性
 // 2. 变量和函数命名
 // 3. 变量类型透明

 // 松散耦合
 // 1. 解耦HTML/JavaScript
 // 2. 解耦CSS/JavaScript
 // 3. 解耦应用逻辑/事件处理程序

 // 编程实践
 // 1. 尊重对象所有权
 // 2. 避免全局量
 var MyApplication = {
 	name:'Nicholas',
 	sayName:function(){
 		console.log(this.name);
 	}
 }
 // 3. 避免与null进行比较
 function sortArray(value){

 	if(value != null){  // 避免-------
 		value.sort();
 	}

 	if(value instanceof Array){  // 推荐*********
 		value.sort();
 	}
 }
 // 4. 使用常量
 var Constants = {
 	INVALLD_VALUE_MSG:"invalid value!",
 	INVALLD_VALUE_URL:"/errors/invalid.php"
 }
 function validate(value){
 	if(!value){
 		console.log(Constants.INVALLD_VALUE_MSG);
 		location.href = Constants.INVALLD_VALUE_URL;
 	}
 }




 /* 性能 */

 // 注意作用域
 // 1. 避免全局查找
 // 避免------------
 function updateUI(){
 	var imgs = document.getElementsByTagName('img');
 	for(var i=0, len=imgs.length; i<len; i++){
 		imgs[i].title = document.title+'image'+i;
 	}
 	var msg = document.getElementById('msg');
 	msg.innerHTML = 'Update complete.';
 }
 // 推荐************
 function updateUI(){
 	var doc = document;
 	var imgs = doc.getElementsByTagName('img');
 	for(var i=0, len=imgs.length; i<len; i++){
 		imgs[i].title = doc.title+'image'+i;
 	}
 	var msg = doc.getElementById('msg');
 	msg.innerHTML = 'Update complete.';
 }
 // 2. 避免使用with语句


 // 选择正确方法
 // 1. 避免不必要的属性查找
 // 2. 优化循环
 // 3. 展开循环
 // 4. 避免双重解释
 // 5. 性能的其他注意事项
 	// :) 原生方法较快
 	// :) Switch语句较快
 	// :) 位运算符较快



 // 最小化语句数
 // 1. 多个变量声明
 // 一个语句：
 var count = 5,
 	 color = 'red',
 	 values = [1,2,3],
 	 now = new Date();

 // 2. 插入迭代值
 var name = values[i++];

 // 3. 使用数组和对象字面量
 var array=[], obj={};



 // 优化DOM交互
 // 1. 最小化现场更新
 // 一下代码现成更新20次
 var list = document.getElementById('myList'),item,i;
 for(i=0;i<10;i++){
 	item = document.createElemnet('li');
 	list.appendChild(item);
 	item.appendChild(document.createTextNode('Item'+i));
 }
 // 优化现场更新使用文档碎片方法
 var list = document.getElementById('myList'),
 	fragment = document.createDocumentPragment(),
 	item, i;
for(i=0;i<10;i++){
	item = document.createElemnet('li');
	fragment.appendChild(item);
	item.appendChild(document.createTextNode('Item'+i));
}
list.appendChild(fragment);

// 2. 使用innerHTML
var list = document.getElementById('myList'), html='' i;
for(i=0;i<10;i++){
	html+='<li>Item'+i'</li>';
}
list.innerHTML = html;

// 3. 使用事件代理(事件冒泡)

// 4. 注意HTMLCollection





 /* 部署 */

 // 构建过程
 // 验证
 // 压缩
 // 1. 文件压缩
 // 2. HTTP压缩








 
</script>
</body>
</html>